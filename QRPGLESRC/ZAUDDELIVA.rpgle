000100100713     H*‚--------------------------------------------------------------------    000200100713     H*ˆCOPYRIGHT DATABOROUGH LTD 2010                                          000300100713     H*‚--------------------------------------------------------------------    000400100713     H debug(*yes) copyright('Databorough Ltd. 2010') datedit(*dmy)             000500100713     H option(*srcstmt:*nodebugio:*showcpy)                                     000600100713     F**********************************************************************    000700100713     F*‚F i l e s                                                               000800100713     F**********************************************************************    000900100714     Fdeliva    if   e           k disk                                         001000100714     Ftrnhstl8  if   e           k disk                                         001100100713     Fqsysprt   o    f  132        printer oflind(*INOF)                        001200100713                                                                                001300100713     D**********************************************************************    001400100713     D*‚D e f i n i t i o n s                                                   001500100713     D**********************************************************************    001600100714     D trnhstcount     s              7p 0                                      001700100713     D tyme            s              6s 0                                      001800100713     D today           s              8s 0                                      001900100713                                                                                002000100714     D trnhstk       e ds                  extname(trnhstl8:*key)               002100100713                                                                                002200100713     C**********************************************************************    002300100713     C*‚M a i n l i n e   C o d e                                               002400100713     C**********************************************************************    002500100713      /free                                                                     002600100713        *inof = *on;                                                            002700100714       //‚For each DELIVA record                                                002800100714       setll *loval delivar;                                                    002900100714       read(e) delivar;                                                         003000100714       dow not %eof(deliva);                                                    003100100713                                                                                003200100714       trnhstcount = *zeros;                                                    003300100714                                                                                003400100714       //‚Count TRNHST records                                                  003500100714           setll %kds(trnhstk:1) trnhstr;                                       003600100714           reade(e) %kds(trnhstk:1) trnhstr;                                    003700100714           dow not %eof(trnhstl8) and not %eof;                                 003800100714               trnhstcount = trnhstcount + 1;                                   003801110914           //  custstcount = custstcount + 1;                                   003900100714               reade(e) %kds(trnhstk:1) trnhstr;                                004000100714           enddo;                                                               004100100713                                                                                004200100714       //‚Output totals for delivery area record                                004300100713          if *inof;                                                             004400100713             except headings;                                                   004500100713             *inof = *off;                                                      004501110914           //  custstcount = custstcount + 1;                                   004600100713          endif;                                                                004700100713                                                                                004800100713          except totals;                                                        004900100713                                                                                005000100714       read(e) delivar;                                                         005100100713       enddo;                                                                   005200100713                                                                                005300100713       //‚Terminate program and exit                                            005400100713       *inlr = *on;                                                             005500100713       return;                                                                  005600100713      /end-free                                                                 005700100713     C**********************************************************************    005800100713     C*‚* I N Z S R                                                             005900100713     C**********************************************************************    006000100713     C     *inzsr        begsr                                                  006100100713     C                   time                    tyme                           006200100713     C                   z-add     *date         today                          006300100713     C                   endsr                                                  006400100713     Oqsysprt   e            headings       1 01                                006500100713     O                                           10 'X-Analysis'                006600100714     O                                           60 'Audit log for file:'       006700100714     O                                           67 'DELIVA'                    006800100713     O                                          132 'Databorough LTD.'          006900100713     O          e            headings       1                                   007000100913     O                                           10 'ZAUDDELIVA'                007100100713     O                       tyme               120 '  :  :  '                  007200100713     O                       today              132 '  /  /    '                007300100713     O          e            headings       2                                   007400100713     O                                          127 'Page:'                     007500100713     O                       page          z    132                             007600100713     O          e            headings       1                                   007700100714     O                                           60 'TRNHST'                    007800100713     O          e            headings       2                                   007900100713     O                                           60 'Records'                   008000100713     O          e            totals         2                                   008100100714     O                       xwbdcd               4                             008200100714     O                       xwgxtx              45                             008300100714     O                       trnhstcount   1     60                             