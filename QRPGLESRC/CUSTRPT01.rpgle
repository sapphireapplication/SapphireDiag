000100101227     HOPTION(*SRCSTMT:*NODEBUGIO) DFTACTGRP(*NO)                                000200101227     FCUSTSR01  O    E             Printer Infds(@Fp1)                          000201101224     F                                     Oflind(*IN88)                        000204101227     FTRNHSTL1  IF   E           K DISK                                         000205101227     FCUSTS     IF   E           K DISK    prefix(C_)                           000206101224     D*‚Program Message Data Structure                                          000207101224     D psds           SDS                                                       000208101224     D sds_proc          *proc                                                  000209101224     D sds_pgm               334    343                                         000300101224     ** *******Definition for Message Variables******************               000400101224     D  msgId          S              7A                                        000500101224     D  sndrcv         S              1A   Inz('S')                             000600101224     D  msgDta         S            128A                                        000700101224     D*‚Definition of Parameters for Program TMSR002                            000704101224     D P@RETVAL        S              1P 0                                      000706101224     D K#Best5         S              1A   Inz('Y')                             000707101224     D K#Passed        S              1A                                        000708110922     D*K#Reset         S              1A                                        000709101224     D*‚Definition of local variables to perform Sorting                        000710101224     D Counter         S              3S 0 Inz(0)                               000711101227     D @UNAME1         S             10A   INZ(*USER)                           000712101227     D #Line1          S                   LIKE(P1@line)                        000714101227     D @PGNBR1         S              4S 0                                      000715110104     D #Cust           S              4S 0                                      000716101224     D                                                                          000717101224     D @FP1            DS                                                       000718101224     D  P1@NAM                83     92                                         000719101224     D  P1@OvFlow            188    189B 0                                      000720101224     D  P1@Line              367    368B 0                                      000721101224     D  P1@Page              369    372B 0                                      000722101227     D                                                                          000728101224      *‚Prototype Declaration                                                   000806101224     D*‚ Entry to program                                                       000809101227     C**************************************************************************000810101227     C                   Eval      @PgmName1=sds_pgm                            000811110922     C**                 Exsr      RstSR                                        000812101227     C                   Exsr      PrtSR                                        000834101224     C                   Eval      *Inlr=*ON                                    000862101227     C**************************************************************************000863101224     C     PrtSR         Begsr                                                  000864101227     C                   if        Not %Open(CUSTSR01)                          000865101227     C                   Open      CUSTSR01                                     000866101224     C                   Endif                                                  000871101227     C                                                                          000872110104     C                   Eval      @PGNBR1=@PGNBR1+1                            000873110104     C                   write     HDG1                                         000874101227     C                   read(e)   custs                                        000875101227     C                   dow       not %eof(custs)                              000876101227     C                   eval      XWBCCD = C_XWBCCD                            000877101227     C                   eval      XWBNCD = C_XWBNCD                            000882110104     C                   eval      #CUST = 1                                    000883110922     C**                 eval      #CUST = 0                                    000884101227     C                   eval      TXWA5QT = 0                                  000885110913     C**                 eval      TXWA6QT = 1                                  000886101227     C                   eval      TXWVALU = 0                                  000887101227     C     k@trnhst      setll(e)  TRNHSTL1                                     000888101227     C     k@trnhst      reade(e)  TRNHSTL1                                     000889101227     C                   dow       not %eof(TRNHSTL1)                           000892101227     C                                                                          000893110104     C                   if        #Cust = 1                                    000894110104     C                   write     CUSTHDR1                                     000895110104     C                   eval      #Cust = #Cust + 1                            000896110104     C                   endif                                                  000897110104     C                                                                          000898101227     C                   eval      TXWA5QT = TXWA5QT + XWA5QT                   000899101227     C                   eval      TXWVALU = TXWVALU + XWVALU                   000900110913     C*                  eval      TXWVAL = TXWVAL + XWVAL                      000901101227     C                                                                          000906101227     C                   If        P1@Line >= P1@OvFlow                         000907101227     C                   Eval      @PGNBR1=@PGNBR1+1                            000909110104     C*                  write     CUSTHDR1                                     000910101224     C                   Eval      *IN88=*OFF                                   000912101224     C                   Endif                                                  000919101224     C                                                                          000920101227     C                   write     DTL1                                         000922101227     C     k@trnhst      reade(e)  trnhstl1                                     000923101227     C                   Enddo                                                  000955101227     C*‚Write Total Records                                                     000956110104     C                   if        TXWA5QT <> 0 and TXWVALU <> 0                000957101227     C                   write     TOTLINE1                                     000958101227     C                   write     TOTL1                                        000959101227     C                   write     TOTLINE1                                     000960110104     C                   endif                                                  000961101227     C                   read(e)   custs                                        000962101227     C                   Enddo                                                  000963101224     C                   write     EOFP1                                        000964101227     C                   Close     CUSTSR01                                     000966101224     C                   Endsr                                                  000980101227     C*‚*******************************************************************     000981101224     C*‚     Parameter List                                                     000982101224     C*‚*******************************************************************     000983101224     C     P@List        PLIST                                                  000984101224     C                   Parm                    msgId                          000985101224     C                   Parm                    sndrcv                         000986101224     C                   Parm                    msgDta                         000987101224     C*‚*******************************************************************     000988101227     C     k@Trnhst      Klist                                                  000989101227     C                   kfld                    XWBNCD                         000990101227     C                   kfld                    XWBCCD                         000991101227     C                                                                          000992101224     C*‚*******************************************************************     